/*
 * Velvet Chess Engine
 * Copyright (C) 2021 mhonert (https://github.com/mhonert)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

// Auto-generated file (see tools/tuning/gencode.py)
const PLAYER_ZOBRIST_KEY: u64 = 14063092696495308010;
const EN_PASSANT_ZOBRIST_KEYS: [u64; 16] = [4032264660955671752, 16086930706459413085, 18308527249970193953, 12590252444979736706, 12806814831281673864, 10944763389818703411, 15515484390957319849, 648833287933563253, 6780135957258670478, 17403526021113264460, 12596845772136297272, 1859584491771405952, 5068208255177307334, 6257243872349882326, 6155929124013680835, 6904234367795507165];
const CASTLING_ZOBRIST_KEYS: [u64; 16] = [16544258025986296956, 6883323476483948293, 2287586694253238539, 4706102880048122882, 5645017632469439973, 2765538998437419546, 16179651652440917433, 13491381921482053147, 1536575745504299694, 13696816309867577927, 12410256148904954755, 10084580301084344556, 8757026367881058252, 5841167947102590008, 9836640897473055675, 0];
const PIECE_ZOBRIST_KEYS: [u64; 13 * 64] = [2906392867701039945, 14682913405158850899, 14026466739124284511, 15492169628977096860, 7263362893678813275, 6171722305287053984, 13729824057123412054, 7687033299228864964, 13461829106563333321, 12487826306869461397, 5318500460136744873, 13298617124058655752, 17540639952386629933, 11927675615773357108, 12545755177353368436, 14571245034722437445, 4379059628857740597, 8393698086655420834, 1656669098211959910, 8516150482162111622, 5062577441398056049, 9313382165656143119, 16339609132805329288, 14129155434462664401, 17503708256027490314, 14731303698214241028, 1210176436916713223, 1996518111963471193, 9717823045997356103, 8206260207559217872, 5338072179407942066, 805487425430930877, 16462134696827703544, 12675233997474201139, 1349284683080520816, 4197347109041304144, 15715851862107372805, 4562195911168665267, 16814804780190787355, 4053814333895250730, 3176071736771023054, 6659608395477475436, 14416485689259082751, 14581131216883437487, 12216871664538628500, 4733357147779830779, 14045010949820633873, 1070486108898026341, 7396470355846481629, 14881424458987645769, 665813671679118038, 15865306515809482187, 8017195569984868502, 8379401878837151741, 18199864280136941941, 2889603785271468696, 2342161196222517096, 7885918755316489021, 11596822679951355561, 2197218826788564118, 18135396366730379684, 14853840987234736201, 15604778350283941000, 10953437362916586215, 2571975110034605803, 6882180600161516788, 17585087729582065954, 15238070741053209394, 9997905918073512204, 14061246302090226678, 4631733829765045200, 6408208045825916639, 16157025859735516435, 18389834679160994023, 15968768353077181414, 4638616844564048537, 5551944049527005046, 1172253935465141758, 9212298516357221101, 9813022064247959616, 8195527690995130754, 3833904540393159865, 14684584775642168817, 3901299462569449813, 4039991520486425600, 2128421980184405885, 9879805012529118342, 10816651344992607017, 12264325049177039278, 1371492394955353397, 12785057145119688880, 17881324384894611406, 4113709894637830016, 8688788850204120825, 8105097585515884816, 1392372640434145651, 4019433134447910780, 9741344545249089620, 16727490713534982042, 18256479046000747491, 16919566438476239149, 16122059829423979120, 10118991732628389195, 13178328636060560138, 783080539880894904, 12689935967416753316, 13124257995982273225, 942317541714114650, 3303774205285242723, 17035323510371840156, 6675448141373703672, 2532149553475052323, 15711174668769109424, 7408453701511489253, 12250808601385978943, 1606162248920120062, 5664190379331148515, 2643853358610121057, 9748047130736088329, 1432500920258313813, 4266551147559682723, 16607149527103049340, 6383597339110104960, 5006341407266865542, 15076913850260536020, 18084767828868374496, 13881325757430033726, 13387966171063897111, 8720330121357965196, 17611737763256009975, 15372722391441674419, 4224133889660874165, 15903099365577148865, 4561791686843508431, 1670404674589047712, 18335829712562695149, 18292934503711316781, 12918405831145399870, 10546895992332453853, 13486688697205390017, 6983997442093862726, 12833977169891697516, 16548518084098684327, 7215103614920033277, 16895715108617823277, 5793362467855978303, 2110439528558325618, 8390248814995593623, 15152987307182200281, 16291841806515716503, 11984988970509221215, 9043914424697516283, 13663479185994475779, 5223688713706287179, 8228506716557672002, 7538841054748211491, 5789536514994946557, 8314492028456369937, 16774554007162648091, 895387156519664186, 7137048684589814952, 16036117709278236533, 17541395406184205946, 3045353228194001562, 5072635283092390727, 14895997922000221657, 13027647359425552600, 1777598139259084395, 2720093430556062615, 17380903293968089845, 16180650419772371452, 11919301696442453211, 11439891316293481106, 17779366967710168658, 13105860774920860210, 14224297692348563655, 7848602617593769399, 16939874934435043598, 8963087784386112638, 16181413890965617272, 6801000550172630629, 14217097647067652820, 10535402169995778268, 11071058353398147476, 12815961418659888453, 4118894888774555656, 4918808767502994630, 8414250342003178740, 9118711160839383847, 13477609818851970058, 4517989376141724830, 2300155989206993211, 6422778481397080642, 7100053370731963065, 8126605318706648558, 138722962833654303, 15376267076669057289, 14279251713665339927, 4376846171239164080, 2653871171368256602, 4434197212925766941, 3820952497606867460, 18194901247883342011, 12789433459652081193, 15796040763894743836, 15517303009685709049, 401514888962740243, 12861553604106341016, 866502734235626730, 6689894711702133682, 16858602270727366488, 12153185085754318337, 12576738507285924274, 16846605011918381657, 7888726016301521864, 13047148811318095331, 8142367983445216003, 11432129332043247767, 8772716670397932490, 16549016161129106891, 16291404926215914103, 5609203124764026176, 12214664101702416580, 12332744326135020092, 9604634820538636625, 16053439181664846197, 10902095665023506426, 14594317022275881873, 7519244093879979466, 13345982884486619613, 12977391930514336710, 12174365655624353879, 7439791315030419853, 14949959009029949615, 5968047568764588802, 13827191044726947750, 17179042853079083861, 5596185867312510206, 6538364176272044038, 18187926346645764372, 9412872893689382519, 11534424082805985716, 7618362279603453481, 1207085235297675628, 7442873506254620692, 13935067593056496671, 12739430607038877477, 8653945183680802058, 11934611969739426996, 6956225530298833290, 4925440291299298687, 10294774491456267287, 9744840838323237202, 11943344296986570085, 7146921341991122466, 8816553258519734770, 17650308937956622650, 14942198917140482971, 12400638033149256191, 14245668851077810615, 6065322307161042773, 9333952314455379363, 134696935475243795, 15344800366707043796, 6015141456161034037, 2402543166560128713, 6347677582378352514, 15403903596224922047, 10729428478504377990, 15824950691776207751, 8132642537761185614, 4690106668057990327, 1034261599702338810, 3587862295154272632, 16590377012879054144, 9312978495614472613, 3325155036641204777, 1224833666046181552, 8466607520507705836, 4065772203792563617, 15485517750167492446, 17605028248912459878, 10526787134063948054, 1639413963917360049, 8772290190229296920, 2088457707990302336, 6257390205201552412, 7522405987243080313, 17546469808397680031, 6851366831412415596, 11436316277121113987, 17461483168432713455, 7540360102627728135, 4696529814184769844, 6822505978947440492, 5828177414146095066, 5576945615443691647, 2554340218917789572, 2994662803897107107, 5918937318538986284, 5850430351421296613, 11708268701487710772, 6502408113513605353, 901080106441569638, 4359431114932260850, 1409563696098025482, 6403296314890170421, 8488404721154010096, 18070884112309610420, 2082663735548174310, 11335378100986310547, 6454819204552365934, 17680780625301894943, 5379893217594615484, 222674588178935765, 8564787501199299704, 7983200811434713295, 16127362006706283135, 8446145328524468732, 10024630780354089399, 6321644858664789577, 9393449501366005836, 6722638912975173577, 15939948602148143998, 13504052929590062006, 939005168126462195, 1956639318846219978, 9594085505491756206, 18135045682901235071, 10013036368050986014, 17141938656838816722, 18395425521522404320, 13139229227674484915, 7159431376400814536, 9881297315875000753, 14344313391012455357, 10661377676626782779, 10515339615523320852, 4486558222622891969, 14099112494587465020, 14262894459855655772, 15077611902634488091, 1416728769840107310, 2084252752071772943, 10947723347837378816, 38860622832013451, 585897515980670883, 12676726346232573343, 15359505978558956015, 10579808464939195528, 1498198025002755253, 13873085198757412402, 7034502008306769176, 6708061364040291790, 16966260887857581131, 10374266592233469459, 7264214197904754557, 2717252871866547511, 3028090203619840760, 4395808931476353303, 1511293891231664216, 16218751847270587461, 11661215379573006930, 8887831383314146524, 998979594671920912, 18405892678276954562, 17788797562135750334, 11100116920860605688, 8834019892114778538, 14272937812175529751, 14740518318115663130, 11683038087631391886, 634021022167076991, 11212886710405390184, 13021558619197298147, 7340983614824321978, 7346408365020316307, 16180663158253240235, 914602746788410983, 9001207259030558607, 12619896872851487869, 7625043978249668947, 2526557057569642607, 12840491556413945370, 3068181455547137810, 16806145329701127128, 11223824791207387664, 13425198105957215494, 15196638462200114589, 1727445549072161479, 17889022648036958188, 17279893811102746973, 12213914744472428941, 153748798663225549, 7742432481261608411, 795127303307639846, 5458098249598670727, 1779548946593748695, 3369488791289096984, 16505775220592491299, 4513534220498556339, 17773131378218896909, 10593349849564006709, 8716497334894142699, 14628532596344046725, 2253707763254551772, 7684478731031751293, 6093416406097169584, 16797457278639862754, 2505179967608705864, 17976093131844235541, 17849290586758610866, 3660977212865676269, 10857700687125553673, 9368756660047165353, 8494697460568889733, 17809855924579851038, 2375256297293399497, 440998752819116183, 16647020128361559189, 12787268075635868637, 15712951622958030675, 302616968425584762, 763142681608157112, 2996652915454671617, 15507280567211357082, 3010370298983669661, 15324370664931764492, 6179412815977461448, 282846591200224270, 10221653844997030548, 9055435090805438780, 4334441184911898316, 6888866487409103606, 1058616238408728831, 4925964330390266100, 7454468449443141766, 4396017636279603990, 10592287826692362606, 15360572974106591822, 99163093674794480, 9520564915689167591, 3616390699616968950, 505932051780340793, 16345276825674048832, 13294778334830606128, 3121151406313666455, 10990073895210777996, 13219194605786101405, 16385131515909859772, 6635715763801084530, 8088589266780988978, 6556461875657872854, 15182947837825328755, 14257597080909320403, 15832964627030670555, 2126420838044544336, 17574672733441848284, 8038902901499693014, 7437564350292230455, 7165784220977580621, 5065317525626031668, 14261288287346172417, 12556952426578748497, 2942195599338855704, 13019348549188700868, 6556637326950130831, 1957381063253927248, 17004744451748335846, 2684237559111606700, 1483820402180945996, 12968118833395862634, 4633754548589155453, 3785195360063836461, 15852753627921348539, 12473453438651647126, 16573346070253160882, 4860325833378535697, 3382190735275141754, 11613943133529999280, 10799274558148545104, 10812082690546645935, 7650711118496104616, 13978367237695441776, 2151635235355359341, 12425095009530336622, 18299429261023497053, 11561603132761363989, 15244385309197685583, 2451119504115869557, 2557453662183443996, 15945429309066497815, 5657039714934112442, 11561076224504208914, 7996960609178374430, 7737528721644814359, 10212722783338908130, 7209150882327186896, 14102095156495018536, 995187605768950325, 2676315727811721262, 16656121863640169188, 17840303669816973084, 11389471035138429517, 5478988047354647109, 13897092642206343446, 11987648437646277354, 1214174536934068168, 7657010335485407596, 2618553537082696664, 7340958012438797122, 8134448557432488764, 9598585350086549305, 6499417685792623234, 6457148290910332592, 12515640475816079714, 13449593458740765063, 1684930347161777298, 1953803501790562629, 10163707541368183066, 3529708782636594944, 4457223948592903261, 12648786157422640091, 8252087775563185414, 1096441172600992668, 13933899818575803110, 2573720004798449483, 9451761931292117831, 13061256351682000908, 14603862337012265850, 4486240039934221177, 8623140470606146314, 11001594426746982475, 9904863569395910172, 3344342299529655678, 5904518562984188514, 6217366452466199851, 3742937861436841025, 7494293801184036152, 3762323106911440797, 2183938500560998460, 5764036088620997545, 7671094123713196503, 2470189350179520010, 13175160474109608205, 8399973921066763659, 2439789312726981685, 6884514846668138788, 8017602106220964882, 15703982454953805466, 10202962183677388770, 4744600344958713175, 1638292515068594561, 1236732175673048056, 8015837909718561946, 16826827169588425806, 12035966092138005684, 14313272479752776602, 5026949542419599687, 1727076685915856589, 15994606047809017936, 11054622797131846624, 1431932170181969409, 8396461858436355735, 14041796898358252032, 13551076054878305921, 7518060555988691161, 8540841611446595203, 190716886095098195, 7879330968800366373, 6710720738026056393, 121131203320406303, 6291562183340375120, 1295492690675119130, 4268989483324967252, 4143618604453781952, 10338844745699927688, 11623234921100968113, 10163767211135639186, 11282880706814223848, 10729383599454875537, 11827290387955068170, 18080920863419770179, 3200001773629807564, 18020252284320573898, 597397094590059884, 5753342937843957812, 16923238383341795772, 74441767296358961, 14523834966884572845, 5063404906219330337, 9013062954284285803, 17664426405221176450, 13367359303602625857, 15862696276162200547, 17259957478342970965, 11580015458353354325, 8277830422768710034, 1400972040909311649, 14149381519479646459, 12338852762435195941, 6103184625327961331, 426079959371477868, 15471275651006847522, 7362231575641485986, 5825612696837594084, 961662841875303805, 12030339811461378682, 13866568694897842173, 11857412118224469016, 3602153944332254565, 7912728710432050425, 6432423387689662005, 16199126376439436544, 7285229510349640239, 13999890627846909776, 6863722698264539914, 11160819381138813063, 7722717557037185143, 150887373792043697, 4956052515948811055, 16699610143728862895, 10836911224555219701, 1708178293452063698, 7077931068516054642, 3616240243307469799, 532908042031376880, 3858888441674064149, 14044741633598961765, 5245660701506704609, 17650687316774497817, 2762306306132399551, 5545478813136785109, 8836815043599612086, 8899916689984461818, 16447042281372102880, 17377100044948354808, 18169478726729099811, 8200996188577010193, 9687514781190645069, 17184640871301245889, 609787022860278058, 4002262856620412932, 2143875318378286099, 13220244571944362870, 9626005055851104065, 12812783765693557428, 9588075611868900375, 694051195253033860, 1083000641656169090, 10246048047205632868, 18141230476977997306, 3484690424439439897, 10789031062490317867, 4882213358222694775, 14897800610815938710, 12272942532746311156, 3387955139503979904, 12220685727006702122, 4657792139075822565, 13642657271535324665, 8981625807995677135, 16971547794641980488, 9717667271403624023, 16888353278948655135, 18053942279485828399, 7246337292900003692, 17475166481737725409, 15250948604031261398, 4996772842397679853, 7583134278610987763, 12202601605237140927, 7806942815706335366, 11199169775746351963, 4454100287323402797, 3191790622974649504, 1195503987194346144, 1138949643614659371, 4111373549302636894, 11877287344721618660, 17960539624924317632, 11253610435171788823, 8400624598268769481, 1278024715549750756, 2633965745813107555, 12964143063105981665, 12564153068414216374, 10882648525566842362, 10536192334051604194, 14037557514852583911, 1470616744899421556, 17490505748452158229, 8113149035274309383, 1656940874551452471, 3006604688907083293, 1135895345892999197, 10017814182102056596, 15888781306387495468, 13649321415464487330, 11171974814182659130, 12199126226038909050, 7457654113082808090, 7736524899287875453, 12202215771173304737, 7384239372310992589, 4701555147684289554, 3920859674311950247, 18411505854984160285, 13360393227286051843, 15577881132278203125, 674167837133563270, 18171823258632377964, 9599832307173574957, 17803499928411421373, 7342784600041356949, 10982921279784464987, 9894349652002596001, 17530536130893505588, 12815094154684305998, 3966765695398236430, 14823101615266878975, 14678565036006627463, 1048610985656792503, 9648157460277185090, 10069276249993290688, 17198623735886746042, 2286619003605136606, 16461472988369357308, 5156613310601310327, 17067008347077906061, 922458772880651431, 1663361652707230984, 3099837386464576534, 13901780777230765481, 14351332930125409721, 13962923335313912115, 16583657607263212912, 540921167546282400, 5435532967891005169, 15758983415988450945, 7364856981586059013, 8506557068493235452, 9324063168345494595, 1398018189979541150, 135925252933123956, 16316817803033509200, 6248706377845565274, 6825826662435497866, 16999137296842390091, 8356540906144018416, 15247449663154918940, 97669739807241486, 3975029062660518337, 8306146440507885999, 16791062419542794133, 3588682515169578771, 10213738965979046103, 5780282022306060450, 15783394064007279120, 11107173885499824062, 18024942671121982384, 1731140923025198324, 4926955822643424516, 13759972598246901966, 17525628679149898271, 9150534198031039705, 18045176213452080403, 13513034703748162192, 2213641285213482940, 9810831510296936005, 14369125311790672, 4838976964202064310, 3296085209964529258, 12130650703360402342, 6763876969109132451, 14836711671216768252, 10141839499448544025, 15865605101112654364, 1623756864833560897, 16985608658555432645, 17814115636516951256, 8383486086964569281, 2852323674123947004, 10797797128485505112, 13884069912378941543, 4791522552226395095, 13845892835260742886, 7484704887411824161, 2227010348760569472, 11123083631400575895, 8729733533132398071, 5286766377462995381, 18077552669885747131, 15533901177037943689, 11709348817571773796, 12094391695399736806, 2704163082131294062, 12703646019420703962, 7352337436866068606, 1136692886597114878, 11583873259260580985, 507117244094476404, 10716856711289459548, 4596037924849840270, 14974069966591248072, 9738545527542604990, 15134419042964559074, 14106329122201294304, 15007644415303508739, 5355327218652430267, 8987175630361904759, 15284776386257554858, 12539829170568200251, 14381293911706843421, 3371777821989413422, 7770469552913941717, 6528577001495086580, 9848547000085317011, 8597466482920242551, 354889964871855927, 12605120276781388445, 9083774497194250203, 5158049931747099781, 17510727615298424944, 12875470193298307086, 14740040698416908789, 15832101447827350134, 6958857337422867779, 15730701943130488882, 1955341988537789218, 10509509222405509386, 7458227787036694405];

    
#[inline]
pub fn player_zobrist_key() -> u64 {
    PLAYER_ZOBRIST_KEY
}

#[inline]
pub fn enpassant_zobrist_key(en_passant_state: u16) -> u64 {
    unsafe { *EN_PASSANT_ZOBRIST_KEYS.get_unchecked(en_passant_state.trailing_zeros() as usize) }
}

#[inline]
pub fn castling_zobrist_key(castling_state: u8) -> u64 {
    unsafe { *CASTLING_ZOBRIST_KEYS.get_unchecked(castling_state as usize & 0xf) }
}

#[inline]
pub fn piece_zobrist_key(piece: i8, pos: usize) -> u64 {
    unsafe { *PIECE_ZOBRIST_KEYS.get_unchecked(((piece + 6) as usize) * 64 + pos) }
}
